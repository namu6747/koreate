<!-- 17_dom_event_key.html -->
<!DOCTYPE html>
<html lang='ko'>
<head>
    <meta charset="utf-8"/>
    <title></title>
    <style>
    </style>
</head>
<body>
    <form name="loginForm" action="16_dom_event_default.html" method="get">
        ID : <input type="text" name="id" id="id"/>
        <br/>
        PW : <input type="password" name="pw" id="pw"/>
        <br/>
        <input type="button" id="btn" value="전송"/>
    </form>

    <script>
        let id = document.getElementById("id");
        let pw = document.getElementById("pw");
        let btn = document.getElementById("btn");

        id.onkeydown = function(event){
            let keyName = event.key;
            let keyCode = event.keyCode;
            console.log(`key : ${keyName}, keyCode : ${keyCode}`);
            if(keyCode == 13){
                // 비밀번호 작성란 포커스 적용
                checkValue(id);
                pw.focus();
            }
        }

        pw.onkeydown = function(event){
            if(event.key == "Enter"){
                if(checkValue(id) && checkValue(pw)){
                    document.loginForm.submit();
                }
            }
        }

        function checkValue(obj){
            // obj  == id || pw
            console.log(obj.value.length);
            if(obj.value.length < 8){
                alert("작성란이 비어있습니다.");
                obj.focus();
                return false;
            }
            return true;
        }

        btn.onclick = function(){
            if(checkValue(id) && checkValue(pw)){
                document.loginForm.submit();
            }
        }

    </script>
</body>
</html>